<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">

  <% include ../../partials/header.ejs %>

    <style>
      body {
        margin-top: 50px;
        text-align: center;
      }

      #motion {
        border: 5px solid SILVER;
      }
    </style>
</head>

<body>

  <div class="container">
    <canvas id="motion"></canvas>
  </div>

  <script>
    var motion = document.getElementById("motion");
    motion.width = 800;
    motion.height = 600;
    var socket = io(location.origin);
    var stage = new createjs.Stage("motion");
    var bmp = new createjs.Bitmap("http://scratch.by/upload/iblock/b63/dog_120.png");
    bmp.x = 350;
	  bmp.y = 250;
    stage.addChild(bmp);
    stage.update();

    socket.on('interface+motion_listen', function (data) {
        switch (data.command) {
            case 'right':
                bitmap.x += 25;
                break;
            case 'left':
                bitmap.x -= 25;
                break;
        }
        stage.update();
    });
  </script>

</body>

</html>
